<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>SkyAI - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä</title>
<style>
  body { font-family: sans-serif; background: #f0f0f0; display: flex; flex-direction: column; align-items: center; padding: 20px; }
  #output { white-space: pre-wrap; background: #fff; padding: 10px; border-radius: 8px; width: 90%; max-width: 600px; height: 200px; overflow-y: auto; margin-top: 10px; }
  #input { width: 90%; max-width: 600px; padding: 10px; font-size: 16px; margin-top: 10px; border-radius: 5px; border: 1px solid #ccc; }
  button { margin-top: 10px; padding: 10px 20px; font-size: 16px; cursor: pointer; border-radius: 5px; border: none; background: #007bff; color: white; }
  button:disabled { background: #aaa; cursor: not-allowed; }
</style>
</head>
<body>
<h1>SkyAI - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä</h1>
<input type="text" id="input" placeholder="–ù–∞–ø–∏—à–∏ —á—Ç–æ-–Ω–∏–±—É–¥—å..." />
<button id="runBtn">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
<div id="output">–í—ã–≤–æ–¥ –º–æ–¥–µ–ª–∏ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å...</div>

<script type="module">
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º WebGPU
  if (!navigator.gpu) {
    document.getElementById('output').innerText = "WebGPU –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ —ç—Ç–æ–º –±—Ä–∞—É–∑–µ—Ä–µ üò¢";
    document.getElementById('runBtn').disabled = true;
  }

  const outputEl = document.getElementById('output');
  const inputEl = document.getElementById('input');
  const runBtn = document.getElementById('runBtn');

  // –ó–∞–≥—Ä—É–∑–∫–∞ –ª—ë–≥–∫–æ–π –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ Hugging Face (WebLLM)
  import { WebLLM } from 'https://cdn.jsdelivr.net/npm/webllm/dist/webllm.module.js';

  let model;

  async function loadModel() {
    outputEl.innerText = "–ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏, –ø–æ–¥–æ–∂–¥–∏—Ç–µ...";
    model = new WebLLM({
      model: "gpt2", // –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞
      backend: "webgpu"
    });
    await model.init();
    outputEl.innerText = "–ú–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω–∞! –í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∏ –Ω–∞–∂–º–∏—Ç–µ '–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å'.";
  }

  async function runModel() {
    const prompt = inputEl.value;
    if (!prompt) return;
    outputEl.innerText = "–ì–µ–Ω–µ—Ä–∏—Ä—É—é –æ—Ç–≤–µ—Ç...";
    try {
      const result = await model.generate(prompt, { maxTokens: 50 });
      outputEl.innerText = result;
    } catch (err) {
      console.error(err);
      outputEl.innerText = "–û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏: " + err.message;
    }
  }

  runBtn.addEventListener('click', runModel);

  loadModel();
</script>
</body>
</html>
