<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>SkyAI — Бесплатная LLM в браузере</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { background: linear-gradient(135deg, #4f46e5, #9333ea); }
  </style>
</head>
<body class="min-h-screen flex items-center justify-center p-6">

  <div class="bg-white w-full max-w-xl p-6 rounded-2xl shadow-xl">
    <h1 class="text-3xl font-bold text-center text-purple-700 mb-4">SkyAI</h1>

    <textarea id="prompt" class="w-full border p-3 rounded mb-4"
      rows="4" placeholder="Введите ваш запрос..."></textarea>

    <button id="send" 
      class="w-full bg-purple-700 text-white py-2 rounded-lg hover:bg-purple-800 transition">
      Отправить
    </button>

    <div id="response" class="mt-4 p-3 bg-gray-100 rounded min-h-[100px] whitespace-pre-wrap"></div>
  </div>

  <script type="module">
    import { GPT4All } from "https://cdn.jsdelivr.net/npm/gpt4all-js@1.2.0/dist/gpt4all.js";

    const responseDiv = document.getElementById("response");
    const sendBtn = document.getElementById("send");
    const promptInput = document.getElementById("prompt");

    responseDiv.textContent = "Загрузка модели SkyAI...";

    // Загружаем локальную модель GPT4All-J в браузер
    const gpt = new GPT4All({
      model: "https://gpt4all.io/models/gpt4all-lora-quantized.bin" // публичная модель
    });

    await gpt.load();
    responseDiv.textContent = "Модель загружена! Можете писать запрос.";

    sendBtn.addEventListener("click", async () => {
      const prompt = promptInput.value.trim();
      if (!prompt) return;
      responseDiv.textContent = "Генерация ответа...";
      const reply = await gpt.generate(prompt);
      responseDiv.textContent = reply;
    });
  </script>

</body>
</html>
